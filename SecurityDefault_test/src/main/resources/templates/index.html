<!DOCTYPE html>
<html 	xmlns		="http://www.w3.org/1999/xhtml"
    	xmlns:th	="http://www.thymeleaf.org"
    	xmlns:sec	="http://www.thymeleaf.org/extras/java8time"
>
<!--     	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"> -->



<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">
	
	<title>Spring 5 Security + Thymeleaf Integration Index</title>
	
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
	<link href="https://getbootstrap.com/docs/4.0/examples/signin/signin.css" rel="stylesheet" crossorigin="anonymous" />
</head>

<body>

	<h3>Spring 4 Security + Thymeleaf Integration Example </h3>
    Logged in user: <b th:inline="text"> [[${#httpServletRequest.remoteUser}]] </b>	 
    
    <form th:action="@{/logout}" method="POST">
    	<input type="submit" value="Logout"/>
    </form>
    
    <table>
		<tr th:each="student : ${students}">
        	<td th:text="${student.stdId}">Id</td>
	    	<td th:text="${student.stdName}">Name</td>
	  	</tr>
	</table>

	<span sec:authentication="name" ></span>
	
	<div sec:authorize="isAuthenticated()">
    	<span sec:authentication="principal.authorities">권한리스트</span> 
 	</div>
 	
    <div sec:authorize="hasAnyRole('ADMIN')">- only admin!!!!</div>
    <div sec:authorize="hasAuthority('ROLE_USER')">- only user</div>
    
    <a th:attr="href=@{/admin}">admin</a>
    <a th:attr="href=@{/user}">user</a>


</body>
</html>